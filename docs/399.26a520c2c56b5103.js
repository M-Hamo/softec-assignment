"use strict";(self.webpackChunksoftec_assignment=self.webpackChunksoftec_assignment||[]).push([[399],{4130:(U,P,n)=>{n.d(P,{U:()=>H});var d=n(4006),t=n(7579),l=n(8505),a=n(8372),i=n(2722),E=n(6223),e=n(4650),y=n(9299),O=n(7185),g=n(5938),T=n(6102),o=n(7932),r=n(6895),m=n(3238),h=n(9549),c=n(4385),p=n(1578),x=n(846),b=n(9891),S=n(9125);function Z(u,v){if(1&u){const f=e.EpF();e.TgZ(0,"app-button",16),e.NdJ("clicked",function(){e.CHM(f);const B=e.oxw();return e.KtG(B.userSearchInput.reset())}),e.qZA()}if(2&u){const f=e.oxw();e.Q6J("matType",f.ButtonTypes.icon)("color",f.ButtonColors.warn)}}function _(u,v){if(1&u&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&u){const f=v.$implicit;e.Q6J("value",null==f?null:f.Id),e.xp6(1),e.Oqu(null==f?null:f.Name)}}function D(u,v){if(1&u&&(e.ynx(0),e.TgZ(1,"mat-option",17),e._uU(2,"Reset"),e.qZA(),e.YNc(3,_,2,2,"mat-option",18),e.BQk()),2&u){const f=e.oxw();e.xp6(1),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",f.usersList)}}function s(u,v){1&u&&(e.TgZ(0,"div",20),e._uU(1," There on results match you search "),e.qZA())}function A(u,v){1&u&&(e.TgZ(0,"mat-error"),e._uU(1," User is required "),e.qZA())}function M(u,v){if(1&u&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&u){const f=v.$implicit;e.Q6J("value",f),e.xp6(1),e.hij(" ",f," ")}}function L(u,v){1&u&&(e.TgZ(0,"mat-error"),e._uU(1," Payment type required "),e.qZA())}function K(u,v){if(1&u&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&u){const f=e.oxw();e.xp6(1),e.hij(" Total Price "," : "+e.lcZ(2,1,f.orderTotalPrice)," ")}}function N(u,v){if(1&u&&(e.ynx(0),e._UZ(1,"create-order-product",23),e.BQk()),2&u){const f=v.$implicit;e.xp6(1),e.Q6J("product",f)}}function W(u,v){if(1&u&&(e.ynx(0),e.YNc(1,N,2,1,"ng-container",22),e.BQk()),2&u){const f=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",f)}}function j(u,v){if(1&u&&(e.ynx(0),e.YNc(1,W,2,1,"ng-container",10),e.BQk()),2&u){const f=v.ngIf;e.xp6(1),e.Q6J("ngIf",f.length)}}function Y(u,v){1&u&&e._UZ(0,"shimmer-loading",24),2&u&&e.Q6J("loadingsCount",6)}const $=function(){return["Online","Cash"]};let H=(()=>{class u{constructor(f,C,B,F,w,R){this._fb=f,this._router=C,this._toasterService=B,this._dialogRef=F,this._ordersService=w,this._productsService=R,this._destroyAll$=new t.x,this.selectedProducts$=this._productsService.selectedProducts$.pipe((0,l.b)(I=>this._calculateOrderTotalPrice(I))),this.createOrderForm=this._fb.group({orderDate:new d.NI((new Date).toISOString()),paymentType:new d.NI(null,{nonNullable:!0,validators:d.kI.required}),userId:new d.NI(null,{nonNullable:!0,validators:d.kI.required})}),this.userSearchInput=new d.NI(null),this.ButtonTypes=E.qh,this.ButtonColors=E.Tt,this.usersList=[],this.selectedProductForCreateOrder=[],this.orderTotalPrice=0,this.submitLoading=!1,this._searchInputChange=!1,this.onSubmitUpdate=()=>{this.submitLoading=!0;const{orderDate:I,paymentType:Q,userId:J}=this.createOrderForm.value,G={OrderId:Math.floor(1e3+9e3*Math.random()),OrderDate:I,PaymentType:Q,UserId:J,Products:this.selectedProductForCreateOrder,TotalPrice:this.orderTotalPrice};this._createOrderHandler(G)},this._searchUserHChangeHandler=()=>{this._searchInputChange||this._getUsers(void 0,null),this.userSearchInput.valueChanges.pipe((0,a.b)(400),(0,l.b)(I=>this._getUsers(void 0,I)),(0,i.R)(this._destroyAll$)).subscribe()},this._getUsers=(I,Q=null)=>{this._ordersService.getSearchedUser(I,Q).pipe((0,l.b)(J=>this.usersList=J),(0,i.R)(this._destroyAll$)).subscribe()},this._calculateOrderTotalPrice=I=>{this.selectedProductForCreateOrder=[...I],setTimeout(()=>{this.orderTotalPrice=I.reduce((Q,J)=>J.Quantity*J.ProductPrice+Q,0)})},this._createOrderHandler=I=>{setTimeout(()=>{this._ordersService.createOrder(I),this._toasterService.success("Order created successfully."),this._router.navigateByUrl(`/shop/orders/${I.OrderId}`),this.submitLoading=!1,this.closeHandler()},1e3)},this.closeHandler=I=>{this._dialogRef.close(I??null)}}ngOnInit(){this._searchUserHChangeHandler()}ngOnDestroy(){this._destroyAll$.next(void 0),this._destroyAll$.complete()}}return u.\u0275fac=function(f){return new(f||u)(e.Y36(d.qu),e.Y36(y.F0),e.Y36(O._W),e.Y36(g.so),e.Y36(T.N),e.Y36(o.s))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-create-order"]],decls:26,vars:16,consts:[["submitBtnText","Save","title","Create Order","titleIcon","shopping_cart","cancelBtnText","cancel",3,"isValid","isLoading","submitDialog","closeDialog","cancelDialog"],[1,"flex-col-stretch",3,"formGroup"],[1,"grid","sm:grid-cols-3","grid-cols-1","gap-2"],["appearance","outline"],["disableOptionCentering","","formControlName","userId",3,"openedChange"],[1,"flex","justify-center","items-center",2,"border-bottom","2px solid whitesmoke"],["placeholder","Search with name...",1,"flex-grow","outline-none",2,"height","50px","text-indent","10px",3,"formControl"],["icon","clear",3,"matType","color","clicked",4,"ngIf"],[4,"ngIf","ngIfElse"],["noData",""],[4,"ngIf"],["disableOptionCentering","","formControlName","paymentType"],[3,"value",4,"ngFor","ngForOf"],["class","flex justify-center items-center text-lg font-bold sm:mb-0 mb-3",4,"ngIf"],[1,"flex-col-stretch","gap-1"],["loader",""],["icon","clear",3,"matType","color","clicked"],[3,"value"],["class","text-center",3,"value",4,"ngFor","ngForOf"],[1,"text-center",3,"value"],[1,"flex","justify-center","items-center","p-2","text-base","font-medium"],[1,"flex","justify-center","items-center","text-lg","font-bold","sm:mb-0","mb-3"],[4,"ngFor","ngForOf"],[3,"product"],[3,"loadingsCount"]],template:function(f,C){if(1&f&&(e.TgZ(0,"app-dialog",0),e.NdJ("submitDialog",function(){return C.onSubmitUpdate()})("closeDialog",function(){return C.closeHandler()})("cancelDialog",function(){return C.closeHandler()}),e.TgZ(1,"form",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e._uU(5,"User"),e.qZA(),e.TgZ(6,"mat-select",4),e.NdJ("openedChange",function(){return C.userSearchInput.reset()}),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.YNc(9,Z,1,2,"app-button",7),e.qZA(),e.YNc(10,D,4,2,"ng-container",8),e.YNc(11,s,2,0,"ng-template",null,9,e.W1O),e.qZA(),e.YNc(13,A,2,0,"mat-error",10),e.qZA(),e.TgZ(14,"mat-form-field",3)(15,"mat-label"),e._uU(16,"Payment type"),e.qZA(),e.TgZ(17,"mat-select",11),e.YNc(18,M,2,2,"mat-option",12),e.qZA(),e.YNc(19,L,2,0,"mat-error",10),e.qZA(),e.YNc(20,K,3,3,"div",13),e.qZA(),e.TgZ(21,"div",14),e.YNc(22,j,2,1,"ng-container",8),e.ALo(23,"async"),e.qZA()()(),e.YNc(24,Y,1,1,"ng-template",null,15,e.W1O)),2&f){const B=e.MAs(12),F=e.MAs(25);let w,R;e.Q6J("isValid",(null==C.createOrderForm?null:C.createOrderForm.valid)&&C.selectedProductForCreateOrder.length)("isLoading",C.submitLoading),e.xp6(1),e.Q6J("formGroup",C.createOrderForm),e.xp6(7),e.Q6J("formControl",C.userSearchInput),e.xp6(1),e.Q6J("ngIf",null==C.userSearchInput||null==C.userSearchInput.value?null:C.userSearchInput.value.length),e.xp6(1),e.Q6J("ngIf",null==C.usersList?null:C.usersList.length)("ngIfElse",B),e.xp6(3),e.Q6J("ngIf",(null==C.createOrderForm||null==(w=C.createOrderForm.get("userId"))?null:w.touched)&&(null==C.createOrderForm||null==(w=C.createOrderForm.get("userId"))?null:w.invalid)),e.xp6(5),e.Q6J("ngForOf",e.DdM(15,$)),e.xp6(1),e.Q6J("ngIf",(null==(R=C.createOrderForm.get("paymentType"))?null:R.touched)&&(null==(R=C.createOrderForm.get("paymentType"))?null:R.errors)),e.xp6(1),e.Q6J("ngIf",C.orderTotalPrice),e.xp6(2),e.Q6J("ngIf",e.lcZ(23,13,C.selectedProducts$))("ngIfElse",F)}},dependencies:[r.sg,r.O5,d._Y,d.Fj,d.JJ,d.JL,d.oH,d.sg,d.u,m.ey,h.TO,h.KE,h.hX,c.gD,p.l,x.r,b.a,S.n,r.Ov,r.H9]}),u})()},6102:(U,P,n)=>{n.d(P,{N:()=>T});var d=n(1135),t=n(9841),l=n(4004),a=n(9300),i=n(4351),E=n(5698),e=n(8505),y=n(4650),O=n(529),g=n(7932);let T=(()=>{class o{constructor(m,h){this._http=m,this._productsService=h,this._ordersStore=new d.X([]),this.filterOrders=new d.X(null),this._filterOrders$=this.filterOrders.asObservable(),this.ordersStore$=this._ordersStore.asObservable(),this.getFilteredOrders$=(0,t.a)([this._filterOrders$,this.ordersStore$]).pipe((0,l.U)(([c,p])=>null===c?p:p.filter(x=>x.OrderId.toString()?.includes(c.toString())))),this.createOrder=c=>{c&&(c.Products.forEach(p=>{this._productsService.updateProduct({...p,AvailablePieces:p.AvailablePieces-p.Quantity,selected:!1,Quantity:1})}),this._ordersStore.next([c,...this._ordersStore.value]))},this.getOrderById=c=>this.ordersStore$.pipe((0,l.U)(p=>p.find(x=>x?.OrderId===c)??{}),(0,a.h)(p=>!!p?.OrderId),(0,i.b)(p=>this._getUsers$.pipe((0,l.U)(x=>({...p,User:x.find(b=>b?.Id===p?.UserId)}))))),this.getSearchedUser=(c,p=null)=>this._getUsers$.pipe((0,l.U)(x=>c?x.find(b=>b?.Id===c)||{}:p||null===p?null===p?x:x.filter(b=>b?.Name.toLowerCase().includes(p?.toLowerCase())):[])),this._storOrders=()=>{(0,t.a)([this._getOrders$,this._productsService.productStore$]).pipe((0,E.q)(1),(0,e.b)(([c,p])=>this._mergeProductsToOrders(c,p))).subscribe()},this._mergeProductsToOrders=(c,p)=>{const x=c.map(b=>{const S=[];return b?.Products.forEach(Z=>{p.forEach(_=>{Z?.ProductId===_?.ProductId&&S.push({...Z,..._})})}),{...b,Products:S,TotalPrice:this._calculateTotalPrice(S)}});this._ordersStore.next(x)},this._calculateTotalPrice=c=>c.reduce((p,x)=>p+x?.ProductPrice,0),this._getOrders$=this._http.get("assets/data-source/orders.json"),this._getUsers$=this._http.get("assets/data-source/users.json"),this._storOrders()}}return o.\u0275fac=function(m){return new(m||o)(y.LFG(O.eN),y.LFG(g.s))},o.\u0275prov=y.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},9125:(U,P,n)=>{n.d(P,{n:()=>O});var d=n(6223),t=n(4650),l=n(7932),a=n(6895),i=n(1578),E=n(846);function e(g,T){if(1&g){const o=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"img",4),t.TgZ(3,"h4",5),t._uU(4),t.qZA()(),t.TgZ(5,"div",6)(6,"div",7)(7,"app-button",8),t.NdJ("clicked",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.onIncreaseQuantity())}),t.qZA(),t.TgZ(8,"app-button",9),t.NdJ("clicked",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.onDecreaseQuantity())}),t.qZA()(),t.TgZ(9,"div",10),t._uU(10),t.ALo(11,"currency"),t.qZA()()()}if(2&g){const o=t.oxw();t.xp6(2),t.Q6J("src",null==o.product?null:o.product.ProductImg,t.LSH)("alt",null==o.product?null:o.product.ProductName),t.xp6(2),t.hij(" ",null==o.product?null:o.product.ProductName," "),t.xp6(3),t.Q6J("disabled",o.quantity>=o.product.AvailablePieces)("matType",o.ButtonTypes.raised)("color",o.ButtonColors.primary),t.xp6(1),t.Q6J("matType",o.ButtonTypes.raised)("color",o.ButtonColors.warn),t.xp6(2),t.AsE(" ",t.lcZ(11,10,null==o.product?null:o.product.ProductPrice)," x ",o.quantity," ")}}function y(g,T){1&g&&t._UZ(0,"shimmer-loading",11),2&g&&t.Q6J("loadingsCount",2)}let O=(()=>{class g{constructor(o){this._productsService=o,this._product={},this.quantity=1,this.ButtonTypes=d.qh,this.ButtonColors=d.Tt,this.onIncreaseQuantity=()=>{if(this.product){if(!(this.quantity<=this.product?.AvailablePieces))return;this.quantity+=1,this._productsService.updateProduct({...this.product,Quantity:this.quantity})}},this.onDecreaseQuantity=()=>{this.product&&(this.quantity>1?(this.quantity-=1,this._productsService.updateProduct({...this.product,Quantity:this.quantity})):this._productsService.updateProduct({...this.product,selected:!1,Quantity:void 0}))}}set product(o){this._product=o,this.quantity=o?.Quantity}get product(){return this._product}ngOnInit(){}}return g.\u0275fac=function(o){return new(o||g)(t.Y36(l.s))},g.\u0275cmp=t.Xpm({type:g,selectors:[["create-order-product"]],inputs:{product:"product"},decls:3,vars:2,consts:[["class","order-product-details flex-between",4,"ngIf","ngIfElse"],["loader",""],[1,"order-product-details","flex-between"],[1,"flex-between","gap-2"],[3,"src","alt"],[1,"product-name","text-start","text-sm","font-semibold","text-gray-700"],[1,"flex","flex-wrap","justify-center","items-center","sm:gap-3"],[1,"flex","justify-center","items-center","sm:gap-3","gap-1","p-0"],["icon","add",3,"disabled","matType","color","clicked"],["icon","remove",3,"matType","color","clicked"],[1,"flex-center","min-w-[130px]","pr-4"],[3,"loadingsCount"]],template:function(o,r){if(1&o&&(t.YNc(0,e,12,12,"div",0),t.YNc(1,y,1,1,"ng-template",null,1,t.W1O)),2&o){const m=t.MAs(2);t.Q6J("ngIf",!!r.product)("ngIfElse",m)}},dependencies:[a.O5,i.l,E.r,a.H9],styles:[".order-product-details[_ngcontent-%COMP%]{border-radius:.25rem;overflow:hidden;border-width:2px;--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity))}.order-product-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px;object-fit:contain}@media (max-width: 768px){.order-product-details[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:none}.order-product-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:116px}}"]}),g})()},7932:(U,P,n)=>{n.d(P,{s:()=>y});var d=n(1135),t=n(9841),l=n(4004),a=n(5698),i=n(8505),E=n(4650),e=n(529);let y=(()=>{class O{constructor(T){this._http=T,this._productsStore=new d.X([]),this.filterProducts=new d.X(null),this._filterProducts$=this.filterProducts.asObservable(),this.productStore$=this._productsStore.asObservable(),this.selectedProducts$=this.productStore$.pipe((0,l.U)(o=>o.filter(r=>r?.selected))),this.getFilteredProducts$=(0,t.a)([this._filterProducts$,this.productStore$]).pipe((0,l.U)(([o,r])=>null===o?r:r.filter(m=>m.ProductName.toLowerCase()?.includes(o.toLowerCase())))),this.updateProduct=o=>{const r=[...this._productsStore.value],m=this._productsStore.value?.findIndex(h=>h?.ProductId===o?.ProductId);r.splice(m,1,{...o}),this._productsStore.next(r)},this.resetSelectedProducts=()=>{this._productsStore.next(this._productsStore.value?.map(o=>({...o,selected:!1,Quantity:1})))},this._storProducts=()=>{this._getProducts$.pipe((0,a.q)(1),(0,i.b)(o=>this._productsStore.next(o))).subscribe()},this._getProducts$=this._http.get("assets/data-source/products.json"),this._storProducts()}}return O.\u0275fac=function(T){return new(T||O)(E.LFG(e.eN))},O.\u0275prov=E.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},1406:(U,P,n)=>{n.d(P,{QC:()=>o,OX:()=>g});var d=n(5698),t=n(4469),l=n(5938),a=n(6223),i=n(4650),E=n(6895),e=n(7392),y=n(846);let O=(()=>{class r{constructor(h,c){this.dialogRef=h,this.data=c,this.ButtonTypes=a.qh,this.ButtonColors=a.Tt}}return r.\u0275fac=function(h){return new(h||r)(i.Y36(l.so),i.Y36(l.WI))},r.\u0275cmp=i.Xpm({type:r,selectors:[["pw-confirmation-dialog"]],decls:17,vars:10,consts:[[1,"flex","flex-col","justify-between","items-stretch","relative","overflow-hidden"],[1,"flex","justify-end","items-center"],["icon","close",1,"mt-[5px]","mx-[5px]",3,"matType","clicked"],[1,"flex","flex-row","flex-auto","items-center","sm:items-start","sm:p-4","p-2"],[1,"flex","flex-0","items-center","justify-center","w-10","h-10","sm:mx-4","mx-2","rounded-full",3,"ngClass"],[2,"height","25px","width","25px","font-size","25px"],[1,"flex","flex-col","items-start","mt-4","sm:mt-0","sm:pe-8","space-y-1","text-start"],[1,"sm:text-lg","text-sm","sm:leading-6","leading-3","sm:font-medium","font-normal"],[3,"innerText"],[1,"text-secondary","sm:text-base","text-xs","sm:font-normal","font-light"],[1,"flex","items-center","justify-center","sm:justify-start","px-4","py-[8px]","gap-3","bg-gray-50","border-2","border-gray-100","dark:bg-black","dark:bg-opacity-10"],["data-cy","confirm",1,"w-auto",3,"matType","color","clicked"],[3,"textContent"],["data-cy","cancel",1,"w-auto",3,"matType","color","clicked"]],template:function(h,c){1&h&&(i.TgZ(0,"div",0)(1,"div",1)(2,"app-button",2),i.NdJ("clicked",function(){return c.dialogRef.close(!1)}),i.qZA()(),i.TgZ(3,"div",3)(4,"div",4)(5,"mat-icon",5),i._uU(6,"report_gmailerrorred"),i.qZA()(),i.TgZ(7,"div",6)(8,"div",7),i._UZ(9,"span",8),i.qZA(),i.TgZ(10,"div",9),i._UZ(11,"span",8),i.qZA()()(),i.TgZ(12,"div",10)(13,"app-button",11),i.NdJ("clicked",function(){return c.dialogRef.close(!0)}),i._UZ(14,"span",12),i.qZA(),i.TgZ(15,"app-button",13),i.NdJ("clicked",function(){return c.dialogRef.close(!1)}),i._UZ(16,"span",12),i.qZA()()()),2&h&&(i.xp6(2),i.Q6J("matType",c.ButtonTypes.icon),i.xp6(2),i.Q6J("ngClass"," text-red-600 bg-red-100 dark:text-red-50 dark:bg-red-600"),i.xp6(5),i.Q6J("innerText",c.data.title),i.xp6(2),i.Q6J("innerText",c.data.message),i.xp6(2),i.Q6J("matType",c.ButtonTypes.flat)("color",c.ButtonColors.warn),i.xp6(1),i.Q6J("textContent",c.data.ok),i.xp6(1),i.Q6J("matType",c.ButtonTypes.stroked)("color",c.ButtonColors.basic),i.xp6(1),i.Q6J("textContent",c.data.close))},dependencies:[E.mk,e.Hw,y.r]}),r})(),g=(()=>{class r{constructor(h){this.dialog=h}Confirm(h,c,p,x){return this.dialog.open(O,{width:t.Cg.MEDIUM,hasBackdrop:!0,restoreFocus:!1,disableClose:!0,closeOnNavigation:!0,data:{title:c,message:h,ok:p,close:x}}).afterClosed().pipe((0,d.q)(1))}}return r.\u0275fac=function(h){return new(h||r)(i.LFG(l.uw))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var T=n(3120);let o=(()=>{class r{}return r.\u0275fac=function(h){return new(h||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({providers:[g],imports:[E.ez,T.m]}),r})()},9891:(U,P,n)=>{n.d(P,{a:()=>Z});var d=n(6895),t=n(4650),l=n(6223),a=n(3120),i=n(7392),E=n(846);const e=["headerContent"],y=["footerContent"];function O(_,D){1&_&&t.GkF(0)}function g(_,D){if(1&_&&(t.ynx(0),t.YNc(1,O,1,0,"ng-container",6),t.BQk()),2&_){const s=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",s.headerContent)}}function T(_,D){1&_&&t.GkF(0)}function o(_,D){if(1&_&&(t.ynx(0),t.YNc(1,T,1,0,"ng-container",6),t.BQk()),2&_){const s=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",s.footerContent)}}function r(_,D){if(1&_){const s=t.EpF();t.TgZ(0,"app-button",12),t.NdJ("clicked",function(){t.CHM(s);const M=t.oxw(3);return t.KtG(M.submitDialog.emit())}),t.qZA()}if(2&_){const s=t.oxw(3);t.Tol("px-0"),t.Q6J("disabled",!s.isValid)("isLoading",s.isLoading)("text",s.submitBtnText)("matType",s.buttonTypes.raised)("color",s.buttonColors.primary)}}function m(_,D){if(1&_){const s=t.EpF();t.TgZ(0,"app-button",13),t.NdJ("clicked",function(){t.CHM(s);const M=t.oxw(3);return t.KtG(M.cancelDialog.emit())}),t.qZA()}if(2&_){const s=t.oxw(3);t.Tol("px-0"),t.Q6J("matType",s.buttonTypes.raised)("color",s.buttonColors.warn)("text",s.cancelBtnText)("icon",s.cancelBtnIcon)}}function h(_,D){if(1&_){const s=t.EpF();t.TgZ(0,"app-button",14),t.NdJ("clicked",function(){t.CHM(s);const M=t.oxw(3);return t.KtG(M.deletePage.emit())}),t.qZA()}if(2&_){const s=t.oxw(3);t.Tol("px-0"),t.Q6J("isLoading",s.isLoading)("text",s.deleteBtnText)("matType",s.buttonTypes.stroked)("color",s.buttonColors.warn)}}function c(_,D){if(1&_&&(t.TgZ(0,"div",8),t.YNc(1,r,1,7,"app-button",9),t.YNc(2,m,1,6,"app-button",10),t.YNc(3,h,1,6,"app-button",11),t.qZA()),2&_){const s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!s.hideSaveButton),t.xp6(1),t.Q6J("ngIf",s.cancelBtnText||s.cancelBtnIcon),t.xp6(1),t.Q6J("ngIf",s.deleteBtnText)}}function p(_,D){if(1&_&&t.YNc(0,c,4,3,"div",7),2&_){const s=t.oxw();t.Q6J("ngIf",!s.hideSaveButton||s.cancelBtnText||s.cancelBtnIcon||s.deleteBtnText)}}function x(_,D){if(1&_){const s=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"mat-icon"),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",17),t.Hsn(6,1),t.TgZ(7,"app-button",18),t.NdJ("clicked",function(){t.CHM(s);const M=t.oxw();return t.KtG(M.closeDialog.emit())}),t.qZA()()()}if(2&_){const s=t.oxw();t.xp6(3),t.Oqu(s.titleIcon),t.xp6(1),t.hij(" ",s.title," "),t.xp6(3),t.Q6J("matType",s.buttonTypes.icon)("color",s.buttonColors.basic)}}const b=["*",[["","modal-header-options",""]]],S=["*","[modal-header-options]"];let Z=(()=>{class _{constructor(){this.submitBtnText="save",this.isLoading=!1,this.cancelBtnColor=l.Tt.warn,this.isValid=!0,this.hasToolbar=!0,this.hideSaveButton=!1,this.contentScroll=!1,this.isTranslated=!0,this.closeDialog=new t.vpe,this.submitDialog=new t.vpe,this.cancelDialog=new t.vpe,this.deletePage=new t.vpe,this.buttonTypes=l.qh,this.buttonColors=l.Tt}}return _.\u0275fac=function(s){return new(s||_)},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-dialog"]],contentQueries:function(s,A,M){if(1&s&&(t.Suo(M,e,5),t.Suo(M,y,5)),2&s){let L;t.iGM(L=t.CRH())&&(A.headerContent=L.first),t.iGM(L=t.CRH())&&(A.footerContent=L.first)}},inputs:{title:"title",titleIcon:"titleIcon",submitBtnText:"submitBtnText",deleteBtnText:"deleteBtnText",cancelBtnText:"cancelBtnText",cancelBtnIcon:"cancelBtnIcon",isLoading:"isLoading",cancelBtnColor:"cancelBtnColor",isValid:"isValid",hasToolbar:"hasToolbar",hideSaveButton:"hideSaveButton",contentScroll:"contentScroll",isTranslated:"isTranslated"},outputs:{closeDialog:"closeDialog",submitDialog:"submitDialog",cancelDialog:"cancelDialog",deletePage:"deletePage"},standalone:!0,features:[t.jDz],ngContentSelectors:S,decls:10,vars:6,consts:[[1,"max-w-md","sm:max-w-full","m-auto","flex","flex-col","w-full","h-full"],[4,"ngIf","ngIfElse"],["id","dialogContentContainer",1,"p-2","h-5/6","overflow-auto"],[1,"flex","justify-end"],["defaultFooterContent",""],["defaultHeaderContent",""],[4,"ngTemplateOutlet"],["class","w-full flex items-center p-3 sm:mt-0 gap-2 bg-slate-50 border-t-2 border-slate-200",4,"ngIf"],[1,"w-full","flex","items-center","p-3","sm:mt-0","gap-2","bg-slate-50","border-t-2","border-slate-200"],[3,"class","disabled","isLoading","text","matType","color","clicked",4,"ngIf"],[3,"class","matType","color","text","icon","clicked",4,"ngIf"],[3,"class","isLoading","text","matType","color","clicked",4,"ngIf"],[3,"disabled","isLoading","text","matType","color","clicked"],[3,"matType","color","text","icon","clicked"],[3,"isLoading","text","matType","color","clicked"],[1,"flex","flex-0","items-center","justify-between","p-3","bg-slate-50","border-b-2","border-slate-200"],[1,"flex","justify-start","items-center","gap-2","text-xl","font-bold"],[1,"flex","justify-center"],["icon","close",3,"matType","color","clicked"]],template:function(s,A){if(1&s&&(t.F$t(b),t.TgZ(0,"div",0),t.YNc(1,g,2,1,"ng-container",1),t.TgZ(2,"div",2),t.Hsn(3),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,o,2,1,"ng-container",1),t.YNc(6,p,1,1,"ng-template",null,4,t.W1O),t.qZA()(),t.YNc(8,x,8,4,"ng-template",null,5,t.W1O)),2&s){const M=t.MAs(7),L=t.MAs(9);t.xp6(1),t.Q6J("ngIf",!!A.headerContent)("ngIfElse",L),t.xp6(1),t.ekj("overflow-hidden",A.contentScroll),t.xp6(3),t.Q6J("ngIf",!!A.footerContent)("ngIfElse",M)}},dependencies:[d.ez,d.O5,d.tP,a.m,i.Hw,E.r]}),_})()},6782:(U,P,n)=>{n.d(P,{U:()=>O});var d=n(6895),t=n(4650),l=n(4006),a=n(7579),i=n(2722);const E=["input"],e=["searchInput"],y=["formControlName",""];let O=(()=>{class g{constructor(o){this._fb=o,this._destroyAll$=new a.x,this.type="text",this.char="S",this.placeholder="Search...",this.outlineOption="2px solid gray",this.blur=new t.vpe,this.focus=new t.vpe,this.change=new t.vpe(void 0),this.formControl=this._fb.control(null),this.onTouched=()=>{},this.registerOnTouched=r=>this.onTouched=r}writeValue(o){o&&this.formControl.patchValue(o,{emitEvent:!0})}registerOnChange(o){this.formControl.valueChanges.pipe((0,i.R)(this._destroyAll$)).subscribe(o)}setDisabledState(o){o?this.formControl.disable():this.formControl.enable()}validate(){return this.formControl.valid?null:{invalidForm:{valid:!1,message:"Form fields are invalid"}}}onBlur(){this.searchInput.nativeElement.style.outline="none",this._inputFocused=!1,this.blur.emit()}onFocus(){this.searchInput.nativeElement.style.outline=this.outlineOption,this._inputFocused=!0,this.focus.emit()}onKeyDown(o){const{key:r}=o;this._inputFocused||o.shiftKey&&(r===this.char||"\u064d"==r)&&(this.input.nativeElement.focus(),this.searchInput.nativeElement.style.outline=this.outlineOption,this.focus.emit(),this._inputFocused=!0,o.preventDefault())}ngOnDestroy(){this._destroyAll$.next(void 0),this._destroyAll$.complete()}}return g.\u0275fac=function(o){return new(o||g)(t.Y36(l.qu))},g.\u0275cmp=t.Xpm({type:g,selectors:[["magic-search-input","formControlName",""],["magic-search-input","ngModel",""],["magic-search-input","formControl",""]],viewQuery:function(o,r){if(1&o&&(t.Gf(E,5),t.Gf(e,5)),2&o){let m;t.iGM(m=t.CRH())&&(r.input=m.first),t.iGM(m=t.CRH())&&(r.searchInput=m.first)}},hostBindings:function(o,r){1&o&&t.NdJ("keypress",function(h){return r.onKeyDown(h)},!1,t.evT)},inputs:{type:"type",char:"char",placeholder:"placeholder",inputCLass:"inputCLass",outlineOption:"outlineOption"},outputs:{blur:"blur",focus:"focus",change:"change"},standalone:!0,features:[t._Bn([{provide:l.JU,useExisting:(0,t.Gpc)(()=>g),multi:!0},{provide:l.Cf,useExisting:(0,t.Gpc)(()=>g),multi:!0}]),t.jDz],attrs:y,decls:6,vars:5,consts:[[1,"magic-input-container",3,"ngClass"],["searchInput",""],[3,"type","placeholder","formControl","focus","blur","keydown"],["input",""],[1,"short-cut"]],template:function(o,r){if(1&o){const m=t.EpF();t.TgZ(0,"div",0,1)(2,"input",2,3),t.NdJ("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("keydown",function(){t.CHM(m);const c=t.MAs(3);return t.KtG(r.change.emit(null==c?null:c.value))}),t.qZA(),t.TgZ(4,"div",4),t._uU(5),t.qZA()()}2&o&&(t.Q6J("ngClass",r.inputCLass),t.xp6(2),t.Q6J("type",r.type)("placeholder",r.placeholder)("formControl",r.formControl),t.xp6(3),t.hij("Shift + ",r.char,""))},dependencies:[d.ez,d.mk,l.u5,l.Fj,l.JJ,l.UX,l.oH],styles:[".magic-input-container[_ngcontent-%COMP%]{display:flex;height:100%;width:auto;align-items:center;justify-content:space-between;border-radius:9999px;border-width:1px;--tw-border-opacity: 1;border-color:rgb(248 250 252 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:2px 5px;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.magic-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;height:100%;flex-grow:1;font-size:.75rem;line-height:1rem;font-weight:500;outline:2px solid transparent;outline-offset:2px}@media (min-width: 640px){.magic-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}}.magic-input-container[_ngcontent-%COMP%]   .short-cut[_ngcontent-%COMP%]{visibility:hidden;display:none;border-radius:9999px;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity));padding:.25rem .75rem;font-size:.75rem;line-height:1rem;font-weight:600}@media (min-width: 640px){.magic-input-container[_ngcontent-%COMP%]   .short-cut[_ngcontent-%COMP%]{visibility:visible;display:block;font-size:.875rem;line-height:1.25rem}}"]}),g})()},2618:(U,P,n)=>{n.d(P,{T:()=>d});const d={indexPage:(t,l="page")=>{const a=t.get(l);return a?+a:0},indexSize:(t,l="size")=>{const a=t.get(l);return a?+a:10},search:(t,l="search")=>{const a=t.get(l);return a&&a.trim()||null},array:(t,l="array")=>{const a=t.getAll(l);return JSON.parse(JSON.stringify(a))||null},number:(t,l="number")=>{const a=t.get(l);return a?+a:null},bool:(t,l)=>{const a=t.get(l);return"1"===a||"2"!==a&&null}}},4469:(U,P,n)=>{n.d(P,{Cg:()=>d,VC:()=>l,Z0:()=>t});var d=(()=>{return(a=d||(d={})).SMALL="400px",a.MEDIUM="600px",a.LARGE="900px",a.X_LARGE="1200px",a.FULL="95%",d;var a})(),t=(()=>{return(a=t||(t={})).SMALL="25%",a.MEDIUM="50%",a.LARGE="75%",a.X_LARGE="90%",a.FULL="98%",t;var a})(),l=(()=>{return(a=l||(l={})).SMALL="60vh",a.MEDIUM="70vh",a.LARGE="80vh",a.X_LARGE="90vh",a.FULL="95%",l;var a})()}}]);