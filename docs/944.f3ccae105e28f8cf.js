"use strict";(self.webpackChunksoftec_assignment=self.webpackChunksoftec_assignment||[]).push([[944],{8944:(at,g,o)=>{o.r(g),o.d(g,{OrdersModule:()=>rt});var a=o(6895),d=o(9299),M=o(4130),h=o(3900),t=o(4650),f=o(6102),T=o(3546),O=o(7392),u=o(1578);function b(n,l){if(1&n&&(t.TgZ(0,"div",2)(1,"span",3)(2,"mat-icon"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"span",4),t._uU(7),t.qZA()()),2&n){const e=t.oxw();let r;t.xp6(3),t.Oqu(null==e.detail?null:e.detail.icon),t.xp6(2),t.hij(" ",null==e.detail?null:e.detail.label,""),t.xp6(2),t.Oqu(null!==(r=null==e.detail?null:e.detail.value)&&void 0!==r?r:"________")}}function A(n,l){1&n&&t._UZ(0,"shimmer-loading",5),2&n&&t.Q6J("loadingsCount",1)}let x=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["order-detail"]],inputs:{detail:"detail"},decls:3,vars:2,consts:[["class","detail flex-between",4,"ngIf","ngIfElse"],["loader",""],[1,"detail","flex-between"],[1,"title","flex-between","text-gray-400"],[1,"value","text-gray-600"],[3,"loadingsCount"]],template:function(e,r){if(1&e&&(t.YNc(0,b,8,3,"div",0),t.YNc(1,A,1,1,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",!!r.detail)("ngIfElse",i)}},dependencies:[a.O5,O.Hw,u.l],styles:[".detail[_ngcontent-%COMP%]{width:100%;margin-bottom:.3rem}.detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .detail[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:600}.detail[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .detail[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:22px;width:22px;font-size:22px;margin-right:6px}.detail[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding-left:.75rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}),n})();function U(n,l){if(1&n&&(t.TgZ(0,"div",12)(1,"div",13),t._UZ(2,"img",14),t.TgZ(3,"h4",15),t._uU(4),t.qZA()(),t.TgZ(5,"div",16),t._uU(6),t.ALo(7,"currency"),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.Q6J("src",null==e?null:e.ProductImg,t.LSH)("alt",null==e?null:e.ProductName),t.xp6(2),t.hij(" ",null==e?null:e.ProductName," "),t.xp6(2),t.AsE(" ",t.lcZ(7,5,null==e?null:e.ProductPrice)," x ",null==e?null:e.Quantity," ")}}function w(n,l){if(1&n&&(t.TgZ(0,"mat-card")(1,"h3",3),t._uU(2," Products Details "),t.qZA(),t.YNc(3,U,8,7,"div",11),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(3),t.Q6J("ngForOf",null==e?null:e.Products)}}const D=function(n){return{value:n,icon:"email",label:"Email"}},I=function(n){return{value:n,icon:"phone_iphone",label:"Phone number"}},Y=function(n){return{value:n,icon:"place",label:"Address"}},J=function(n){return{value:n,icon:"event",label:"Register date"}},L=function(n){return{value:n,icon:"copyright",label:"Order_Id"}},Q=function(n){return{value:n,icon:"shopping_basket",label:"Products count"}},N=function(n){return{value:n,icon:"account_balance_wallet",label:"Payment type"}},q=function(n){return{value:n,icon:"event",label:"Order date"}};function R(n,l){if(1&n&&(t.TgZ(0,"section",2)(1,"mat-card")(2,"h3",3),t._uU(3," Customer Details "),t.qZA(),t.TgZ(4,"h3",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5)(7,"div",6)(8,"mat-icon",7),t._uU(9,"account_balance_wallet"),t.qZA(),t._uU(10),t.ALo(11,"number"),t.qZA()(),t._UZ(12,"div",8)(13,"order-detail",9)(14,"order-detail",9)(15,"order-detail",9)(16,"order-detail",9),t.ALo(17,"date"),t.qZA(),t.YNc(18,w,4,1,"mat-card",10),t.TgZ(19,"mat-card")(20,"h3",3),t._uU(21," Order Details "),t.qZA(),t._UZ(22,"order-detail",9)(23,"order-detail",9)(24,"order-detail",9)(25,"order-detail",9),t.ALo(26,"date"),t.qZA()()),2&n){const e=l.ngIf;t.xp6(5),t.hij(" ",null==e||null==e.User?null:e.User.Name," "),t.xp6(5),t.hij(" Total Price : ",t.xi3(11,11,null==e?null:e.TotalPrice,"1.2")," "),t.xp6(3),t.Q6J("detail",t.VKq(20,D,null==e||null==e.User?null:e.User.Email)),t.xp6(1),t.Q6J("detail",t.VKq(22,I,null==e||null==e.User?null:e.User.Phone)),t.xp6(1),t.Q6J("detail",t.VKq(24,Y,null==e||null==e.User?null:e.User.Address)),t.xp6(1),t.Q6J("detail",t.VKq(26,J,t.xi3(17,14,null==e||null==e.User?null:e.User.RegisterDate,"dd-MM-YYYY h:mm a"))),t.xp6(2),t.Q6J("ngIf",null==e?null:e.Products.length),t.xp6(4),t.Q6J("detail",t.VKq(28,L,null==e?null:e.OrderId)),t.xp6(1),t.Q6J("detail",t.VKq(30,Q,null==e?null:e.Products.length)),t.xp6(1),t.Q6J("detail",t.VKq(32,N,null==e?null:e.PaymentType)),t.xp6(1),t.Q6J("detail",t.VKq(34,q,t.xi3(26,17,null==e?null:e.OrderDate,"dd-MM-YYYY h:mm a")))}}function S(n,l){1&n&&(t.TgZ(0,"section",17),t._UZ(1,"shimmer-loading"),t.qZA())}let _=(()=>{class n{constructor(e,r){this._route=e,this._ordersService=r,this.orderDetails$=this._route.params.pipe((0,h.w)(i=>this._ordersService.getOrderById(+i.id)))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(f.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-details"]],decls:4,vars:4,consts:[["class","details-container",4,"ngIf","ngIfElse"],["loader",""],[1,"details-container"],[1,"text-start","text-base","font-semibold","text-gray-700","mb-4"],[1,"mb-1","text-center","text-xl","font-bold","text-gray-800"],[1,"w-auto","flex-center"],[1,"w-auto","flex-center","rounded-full","py-[.5rem]","px-4","bg-blue-600","text-white","font-semibold"],[1,"mr-3"],[1,"h-[2px]","bg-slate-50","my-3"],[3,"detail"],[4,"ngIf"],["class","order-product-details flex-between",4,"ngFor","ngForOf"],[1,"order-product-details","flex-between"],[1,"flex-between","gap-2"],[3,"src","alt"],[1,"product-name","text-start","text-sm","font-semibold","text-gray-700"],[1,"flex-center","max-w-[100px]","pr-4","truncate"],[1,"loader"]],template:function(e,r){if(1&e&&(t.YNc(0,R,27,36,"section",0),t.ALo(1,"async"),t.YNc(2,S,2,0,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,r.orderDetails$))("ngIfElse",i)}},dependencies:[a.sg,a.O5,T.a8,O.Hw,u.l,x,a.Ov,a.JJ,a.H9,a.uU],styles:[".details-container[_ngcontent-%COMP%]{min-height:100vh;width:70%;gap:8px;padding:0;padding:2.25rem 0;margin:0 auto;display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-between}.details-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;gap:5px;padding-bottom:20px;width:100%}@media (min-width: 640px){.details-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:48%}}@media (min-width: 1280px){.details-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:32%}}.details-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:500}.details-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .order-product-details[_ngcontent-%COMP%]{border-radius:.25rem;overflow:hidden;border-width:2px;--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity))}.details-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .order-product-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px;object-fit:contain}.loader[_ngcontent-%COMP%]{min-height:100vh;width:70%;margin:0 auto}.loader[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:25px;width:25px;height:25px}@media (max-width: 768px){.details-container[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{padding:1rem;gap:4px;width:100%}.product-name[_ngcontent-%COMP%]{display:none}}"]}),n})();var $=o(2618),E=o(6223),j=o(7579),C=o(2076),p=o(8505),F=o(5698),v=o(2722),H=o(8372),m=o(4006),z=o(6709),K=o(846),V=o(1954),P=o(6782);function B(n,l){1&n&&(t.TgZ(0,"th"),t._uU(1,"Order_Id"),t.qZA(),t.TgZ(2,"th"),t._uU(3,"Total Price"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Payment Type"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Order Date"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Actions"),t.qZA())}function W(n,l){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.OrderDate,"dd-MM-YYYY h:mm a")," ")}}function X(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td"),t._uU(3),t.ALo(4,"currency"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.YNc(7,W,3,4,"td",7),t.TgZ(8,"td",8),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(9,"div",9)(10,"app-button",10),t.NdJ("clicked",function(){const c=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onNavigateToDetails(c))}),t.qZA()()()}if(2&n){const e=l.$implicit,r=t.oxw();t.xp6(1),t.Oqu(e.OrderId),t.xp6(2),t.Oqu(t.lcZ(4,5,e.TotalPrice)),t.xp6(3),t.Oqu(e.PaymentType),t.xp6(1),t.Q6J("ngIf",e.OrderDate),t.xp6(3),t.Q6J("matType",r.ButtonTypes.miniFap)}}function G(n,l){if(1&n&&t._UZ(0,"no-data",11),2&n){const e=t.oxw();t.Q6J("text",e.searchInput.value?"No orders matches this Id !!":"There is no orders to show !!")}}let y=(()=>{class n{constructor(e,r,i,c){this._fb=e,this._router=r,this._route=i,this._orderService=c,this._destroyAll$=new j.x,this.searchInput=this._fb.control(null),this.ordersList$=this._orderService.getFilteredOrders$.pipe((0,p.b)(()=>setTimeout(()=>this.ordersLoaded=!0,500))),this.QUERY={SEARCH:"search"},this.ButtonTypes=E.qh,this.ordersLoaded=!1,this.onNavigateToDetails=s=>{(0,C.D)(this._router.navigateByUrl(`/shop/orders/${s.OrderId}`)).pipe((0,F.q)(1)).subscribe()},this._paramsChangeObserver=()=>{this._route.queryParamMap.pipe((0,p.b)(s=>{const Z_search=$.T.number(s,this.QUERY.SEARCH);this.searchInput.patchValue(Z_search),this._orderService.filterOrders.next(Z_search)}),(0,v.R)(this._destroyAll$)).subscribe()},this._searchInputChangeObserver=()=>{this.searchInput.valueChanges.pipe((0,H.b)(500),(0,h.w)(s=>(0,C.D)(this._router.navigate([],{queryParams:{[this.QUERY.SEARCH]:s||null},queryParamsHandling:"merge"})).pipe((0,p.b)(()=>this.ordersLoaded=!1))),(0,v.R)(this._destroyAll$)).subscribe()}}ngOnInit(){this._paramsChangeObserver(),this._searchInputChangeObserver()}ngOnDestroy(){this._destroyAll$.next(void 0),this._destroyAll$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.qu),t.Y36(d.F0),t.Y36(d.gz),t.Y36(f.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-orders-list"]],decls:11,vars:7,consts:[[1,"page-container"],[1,"w-full","flex","justify-start","items-center"],["type","number","outlineOption","2.5px solid #d3d3d3","placeholder","Search by order id...",1,"lg:w-1/2","w-full","sm:h-11","h-8",3,"formControl"],[1,"table-scrollable",3,"data","dataLoaded","colSpanCount","extendable","onRowClicked"],["headers",""],["rows",""],["noData",""],[4,"ngIf"],[3,"click"],[1,"action-btns"],["btnClass","bg-gray-600 text-white","icon","airplay","toolTip","Details",3,"matType","clicked"],[3,"text"]],template:function(e,r){1&e&&(t.TgZ(0,"section",0)(1,"div",1),t._UZ(2,"magic-search-input",2),t.qZA(),t.TgZ(3,"app-table",3),t.NdJ("onRowClicked",function(c){return r.onNavigateToDetails(c)}),t.ALo(4,"async"),t.YNc(5,B,10,0,"ng-template",null,4,t.W1O),t.YNc(7,X,11,7,"ng-template",null,5,t.W1O),t.YNc(9,G,1,1,"ng-template",null,6,t.W1O),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("formControl",r.searchInput),t.xp6(1),t.Q6J("data",t.lcZ(4,5,r.ordersList$))("dataLoaded",r.ordersLoaded)("colSpanCount",5)("extendable",!0))},dependencies:[a.O5,m.JJ,m.oH,z.a,K.r,V.d,P.U,a.Ov,a.H9,a.uU],styles:["app-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], app-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;line-height:1rem;text-align:start}app-table[_ngcontent-%COMP%]   .action-btns[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}"]}),n})();var k=o(9125);const tt=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:y},{path:":id",component:_}];let et=(()=>{class n{}return n.Components=[y,_,x,M.U,k.n],n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(tt),d.Bz]}),n})();var nt=o(1406),ot=o(9891),lt=o(3120);let rt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.ez,et,lt.m,P.U,u.l,ot.a,nt.QC]}),n})()}}]);